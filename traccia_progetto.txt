 
Laboratorio di Basi di Dati (A.A. 2024/2025) 
Specifiche del progetto e istruzioni 1 Introduzione 
Il progetto `e valido per gli appelli d’esame dell’anno accademico 2024/2025. Il progetto deve essere svolto e presentato individualmente. La specifica del problema che deve essere affrontato `e per sua natura incompleta e pu`o essere ambigua. Il candidato deve essere in grado di valutare eventuali soluzioni alternative e giustificare le scelte implementative adottate. Le motivazioni delle scelte fatte vanno inoltre documentate nel progetto. Il lavoro consiste di cinque fasi princi- pali: i) analisi dei requisiti; ii) identificazione delle funzionalit`a da sviluppare; iii) progettazione e realizzazione della base di dati; iv) progettazione e realizzazione della struttura e della presen- tazione delle pagine Web necessarie per interfacciarsi con la base di dati; v) preparazione della documentazione e del materiale da consegnare. 
2 Scenario e specifiche 
Il progetto si pone l’obiettivo di sviluppare un’applicazione di basi di dati per la gestione di una catena di negozi, con funzionalit`a sia per i clienti dei negozi, che per i manager che li gestiscono. I clienti possono visualizzare le informazioni sui prodotti disponibili nei negozi, selezionare quelli da acquistare, e inserire (compatibilmente con i vincoli specificati nelle sezioni sottostanti) sconti da applicare sui totali delle proprie fatture. 
2.1 Dominio applicativo e specifiche generali 
I negozi gestiti sono identificati da un codice e, per ciascun negozio, si tiene traccia del nominativo di un responsabile, degli orari di apertura, e dell’indirizzo. I prodotti in vendita, anch’essi iden- tificati da un codice univoco, hanno un nome ed una descrizione testuale (che pu`o comprendere informazioni variegate quali modalit`a di utilizzo, allergeni per i prodotti alimentari, produttori, etc.). Si noti che lo stesso prodotto pu`o essere disponibile in negozi diversi, possibilmente con prezzi diversi (ad esempio, a causa di specifiche promozioni). 
L’approvvigionamento dei prodotti nei vari negozi avviene a seguito di ordini presso fornitori, anch’essi gestiti dalla stessa societ`a che gestisce i negozi. Ogni fornitore, identificato dalla propria partita IVA e per il quale `e necessario tenere traccia di un indirizzo, pu`o fornire diversi prodotti e lo stesso prodotto pu`o essere fornito da produttori diversi a costi diversi. E` importante tenere traccia della disponibilit`a (in termini di numero di pezzi) dei prodotti presso ciascun fornitore. 
1 
Ogni ordine `e identificato da un numero identificativo, e per ciascun ordine occorre tenere traccia dalla data di consegna. 
Per ogni cliente `e necessario tenere traccia del codice fiscale, del nome, ed eventualmente del saldo punti esistente sulla relativa tessera fedelt`a. Ogni cliente pu`o richiedere al piu` una tessera fedelt`a, e la tessera viene rilasciata da uno dei negozi. Di ciascuna tessera `e necessario tenere traccia della data in cui `e stata richiesta e del negozio che l’ha rilasciata. Gli acquisti dei prodotti da parte dei clienti vengono memorizzati in fatture, caratterizzate da un codice univoco. Ogni fattura contiene almeno la data di acquisto, l’elenco dei prodotti acquistati con il relativo prezzo, l’eventuale sconto percentuale applicato sulla spesa (che dipende dai punti disponibili sulla tessera del cliente, si vedano a tale proposito le specifiche in Sezione 2.2), ed il totale pagato. 
2.2 Requisiti da realizzare con strutture interne della base di dati 
Oltre alle funzionalit`a richieste per i requisiti generali illustrati in precedenza, la base di dati deve offrire funzionalit`a specifiche per i seguenti requisiti. Tutte le funzionalit`a illustrate in questa sezione devono essere realizzate tramite comportamenti attivi e/o strutture interne alla base di dati (viste/viste materializzate, trigger, procedure, funzioni). 
•	Aggiornamento saldo punti su tessera fedelt`a. Per ogni Euro speso, viene accumu- lato un punto sulla tessera del cliente che effettua la spesa. Il saldo punti su ogni tessera deve essere continuamente aggiornato. 
•	Applicazione sconto sulla spesa. Al raggiungimento di determinate soglie di punti, vengono sbloccati alcuni sconti. In particolare: a 100 punti si sblocca uno sconto del 5%, a 200 punti del 15%, a 300 punti del 30%. Si noti che lo sconto non pu`o mai essere piu` elevato di 100 Euro. L’applicazione dello sconto avviene su scelta del cliente, e lo sconto viene applicato sul totale della fattura sulla quale viene applicato. In seguito all’applicazione dello sconto, il saldo punti della tessera fedelt`a deve essere decurtato del numero di punti usato per lo sconto. 
•	Mantenimento storico tessere. Quando un negozio viene eliminato, `e necessario man- tenere in una tabella di storico le informazioni sulle tessere che erano state emesse dal negozio stesso, con la data di emissione. 
•	Aggiornamento disponibilit`a prodotti dai fornitori. La disponibilit`a dei prodotti dai vari fornitori `e ovviamente limitata (e comunicata da ciascun fornitore alla catena di negozi). In seguito ad un ordine di un certo prodotto presso un certo fornitore, `e necessario mantenere aggiornata la disponibilit`a di quel prodotto da quel fornitore. 
•	Ordine prodotti da fornitore. Quando un prodotto deve essere rifornito di una certa quantit`a, `e necessario inserire un ordine presso un determinato fornitore. Il fornitore deve essere automaticamente scelto sulla base del criterio di economicit`a (vale a dire, l’ordine viene automaticamente effettuato presso il fornitore che, oltre ad avere disponibili`a di prodotto sufficiente, offre il costo minore). 
•	Lista tesserati. Dato un negozio, `e necessario conoscere la lista dei clienti ai quali il negozio ha emesso la tessera fedelt`a. 
•	Storico ordini a fornitori. Dato un fornitore, `e necessario conoscere tutti gli ordini che sono stati effettuati presso di lui. 
2 
• Saldi punti. E` necessario mantenere un elenco aggiornato dei clienti che hanno una tessera fedelt`a con un saldo punti superiore a 300 punti. 
2.3 Requisiti dell’applicazione Web 
L’applicazione Web deve gestire gli accessi per i clienti ed i manager della catena di negozi (per semplicit`a, `e possibile considerare un unico manager che gestisca tutti i negozi). I manager possono gestire le informazioni di clienti, prodotti, e fornitori. I clienti possono visualizzare le informazioni sui prodotti disponibili, selezionare quelli che intendono acquistare, e confermare l’acquisto selezionando, se opportuno, uno degli sconti disponibili. Si realizzino, oltre a quelle richieste dai requisiti illustrati in precedenza, le seguenti funzionali`a. 
• 
• 
3 3.1 
Manager: accede all’applicazione tramite login e password (e pu`o modificare la propria password); crea e gestisce le utenze per i clienti; inserisce e gestisce prodotti (con i relativi prezzi, che possono variare da negozio a negozio), negozi, clienti, fornitori. Compati- bilmente con i requisiti precedenti, pu`o inserire ordini presso fornitori per aumentare la disponibili`a di prodotti. 
Cliente: accede all’applicazione tramite login e password (e pu`o modificare la propria password); pu`o visualizzare i prodotti disponibili, selezionare quelli da acquistare, inserire uno sconto disponibile; pu`o visualizzare il saldo punti della propria tessera fedelt`a. 
Consegna del progetto e prova orale Istruzioni operative 
Per poter sostenere la prova orale `e necessario iscriversi entro le scadenze ad uno degli appelli d’esame presenti nel calendario ufficiale di Ateneo. Entro le ore 23:59 del giorno dell’appello d’esame prescelto, `e necessario caricare all’indirizzo upload.di.unimi.it, nella sessione di upload specifica per appello prescelto e turno corretto di appartenenza, il seguente materiale compresso in un unico file compresso (ZIP, RAR o TGZ), chiamato BDLAB- matricola-CognomeNome (ad es., BDLAB-123456-RossiMaria). 
•	Documentazione tecnica (in un unico file PDF), in cui sono descritte in maniera esauriente le scelte di progettazione concettuale e di progettazione logica della base di dati e gli aspetti metodologici. In particolare, la documentazione tecnica deve contenere: 
1.	Schema concettuale (ER) della base di dati (qualora siano necessarie ristrutturazioni, includere sia lo schema pre-ristrutturazione che quello post- ristrutturazione, motivando opportunamente le strategie adottate); 
2.	Schema logico (relazionale) della base di dati; 
3.	Esauriente descrizione delle funzioni/trigger/viste/viste materializ- 
zate/funzionalit`a realizzate; 
4.	Prove di funzionamento, consistenti in una serie di schermate dimostrative com- provanti la corretta esecuzione delle operazioni previste. 
•	Manuale utente (in un unico file PDF), che comprenda le istruzioni d’uso e le note tecniche relative all’installazione dell’applicazione e alla dotazione software necessaria per 
3 
il corretto funzionamento della stessa. E` necessario includere nel manuale utente le cre- denziali di almeno un utente manager e di almeno un utente cliente. 
• Prodotti software, che comprenda il dump SQL della base di dati e TUTTI i sorgenti che costituiscono il progetto. 
Le tecnologie da adottare per lo svolgimento del progetto sono quelle viste a lezione (PostgreSQL, PL/pgSQL, PHP, HTML). 
Nei giorni successivi alla data dell’esame entro cui inviare il materiale richiesto, verr`a stilato e pubblicato sulla pagina Ariel dell’insegnamento un calendario per le discussioni orali. 
3.2 Prova orale: presentazione del progetto 
In sede di discussione orale, l’applicazione sviluppata deve essere accessibile tramite PC portatile oppure on-line. E` compito dello studente procurare il PC portatile qualora sia necessario. 
Allo startup dell’applicazione, il database deve gi`a essere popolato con i dati necessari alla visualizzazione di tutte le funzionalit`a sviluppate. 
Durante la prova orale, verr`a chiesto di mostrare (alcune delle) funzionali`a richieste delle specifiche (ed eventualmente altre sviluppate dal candidato nel progetto), illustrando le scelte progettuali ed implementative che sono state adottate. Potr`a inoltre esser chiesto di effettuare modifiche al codice e di fornire una spiegazione esauriente di alcune parti del codice sorgente. 
